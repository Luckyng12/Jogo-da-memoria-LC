<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da memória - Espaços Digitais</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Orbitron:wght@800&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #e0f7fa;
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .page-section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 100%;
        }
        .hidden {
            display: none;
        }

        .header-info {
            width: 100%;
            max-width: 1000px;
            text-align: center;
            margin-bottom: 20px;
        }
        .title-memoria {
            font-family: 'Orbitron', sans-serif;
            color: #1a5276; 
            font-size: 2.5rem;
            font-weight: 800;
        }
        .subtitle-memoria {
            color: #e74c3c;
            font-size: 1.3rem;
            margin-top: -10px;
            font-weight: 600;
        }
        .game-board {
            display: grid;
            grid-template-columns: repeat(5, 18vw); 
            grid-template-rows: repeat(2, 25vh); 
            gap: 15px; 
            perspective: 1000px; 
            justify-content: center;
            max-width: 1200px;
        }
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
            cursor: pointer;
            border-radius: 8px;
        }
        .card.flip {
            transform: rotateY(180deg);
        }
        .face, .back {
            width: 100%;
            height: 100%;
            position: absolute;
            border-radius: 8px;
            border: 3px solid #2d5b9c; 
            backface-visibility: hidden; 
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        .back {
            background-color: #2d5b9c; 
            transform: rotateY(0deg);
            background-image: url('LogoCursoLC_Menor.png'); 
            background-size: 60%;
            background-repeat: no-repeat;
            background-position: center;
        }
        .face {
            background-color: #ecf0f1; 
            transform: rotateY(180deg); 
            flex-direction: column;
            padding: 8px;
            box-sizing: border-box;
            justify-content: space-around;
        }
        .face img {
            max-width: 95%;
            max-height: 75%;
            object-fit: cover;
            border-radius: 4px;
        }
        .face p {
            margin: 5px 0 0 0;
            font-size: clamp(0.65rem, 1.5vw, 0.9rem);
            font-weight: bold;
            color: #2c3e50;
            text-align: center;
            line-height: 1.1;
        }
        .card.match {
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.8s, opacity 0.8s linear;
        }
        .info-bar {
            margin-top: 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 20px;
            font-size: 1.2rem;
            padding: 10px 0;
            font-weight: 600;
            color: #2c3e50;
            width: 100%;
            max-width: 1000px;
        }
        .info-box {
            flex: 1;
            text-align: center;
        }
        .info-box:first-child { text-align: left; }
        .info-box:last-child { text-align: right; }
        
        #start-button {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            background-color: #27ae60;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            border: none;
        }
        #start-button:hover {
             background-color: #229954;
             transform: scale(1.05);
        }

        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.7); display: none; justify-content: center;
            align-items: center; z-index: 1000;
        }
        .modal.active { display: flex; }
        .modal-content {
            background: white; padding: 30px 40px; border-radius: 12px;
            text-align: center; box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
            transform: scale(0.8); transition: transform 0.3s ease-out;
        }
        .modal.active .modal-content { transform: scale(1); }
        .modal-button {
            margin-top: 20px;
            padding: 10px 25px;
            font-size: 1rem;
            font-weight: bold;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
        }
        #lose-continue-button {
            background-color: #3498db;
        }
        #lose-continue-button:hover {
            background-color: #2980b9;
        }
         #win-continue-button {
            background-color: #27ae60;
        }
        #win-continue-button:hover {
            background-color: #229954;
        }

        .gallery-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }
        .gallery-title {
            font-family: 'Orbitron', sans-serif;
            color: #1a5276;
            font-size: 2.2rem;
            margin-bottom: 15px;
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .gallery-item {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        .gallery-item img {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }
        .gallery-item-label {
            padding: 12px;
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
        }
        .restart-gallery-button {
            display: inline-block;
            margin-top: 30px;
            padding: 12px 30px;
            background-color: #27ae60;
            color: white;
            text-decoration: none;
            font-weight: 600;
            border-radius: 8px;
            transition: background-color 0.3s, transform 0.2s;
            cursor: pointer;
        }
        .restart-gallery-button:hover {
            background-color: #229954;
            transform: scale(1.05);
        }
        
        .final-stats {
            margin-top: 20px;
            margin-bottom: 25px;
            display: flex;
            justify-content: space-around;
            gap: 20px;
            width: 100%;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #dee2e6;
        }
        .final-stats p {
            font-size: 1.1rem;
            color: #333;
            font-weight: 600;
            margin: 0;
        }
        .final-stats span {
            font-weight: 800;
        }
        #win-modal .final-stats span, #gallery-section .final-stats span {
             color: #27ae60;
        }
        #lose-modal .final-stats {
            max-width: 100%;
            margin-bottom: 20px;
            flex-direction: column;
            gap: 10px;
        }
         #win-modal .final-stats {
            max-width: 100%;
            margin-bottom: 20px;
            flex-direction: column;
            gap: 10px;
        }
        #lose-modal .final-stats span {
            color: #e74c3c;
        }


        @media (max-width: 768px) {
            .game-board {
                grid-template-columns: repeat(4, 20vw); 
                grid-template-rows: repeat(3, 20vh); 
                gap: 10px;
            }
            .title-memoria, .gallery-title { font-size: 1.8rem; }
            .info-bar { flex-direction: column; gap: 15px; }
            .info-box, .info-box:first-child, .info-box:last-child { text-align: center; }
        }
        @media (max-width: 480px) {
            body { padding: 15px; }
            .game-board {
                grid-template-columns: repeat(2, 40vw);
                grid-template-rows: repeat(5, 15vh);
            }
            .title-memoria, .gallery-title { font-size: 1.5rem; }
        }

    </style>
</head>
<body>

    <main id="game-section" class="page-section">
        <div class="header-info">
            <h1 class="title-memoria">Memória do Espaço Digital</h1>
            <h2 class="subtitle-memoria">ENCONTRE TODOS OS PARES</h2>
        </div>
        
        <section class="game-board"></section>
    
        <div class="info-bar">
            <div class="info-box">
                <p>Pares: <span id="score" class="font-extrabold">0</span> / 5</p>
            </div>
            <div class="info-box">
                <p>Tempo: <span id="timer" class="font-extrabold">--:--</span></p>
            </div>
            <div class="info-box">
                <p>Erros: <span id="errors" class="font-extrabold">0</span></p>
            </div>
        </div>
    </main>

    <section id="gallery-section" class="page-section hidden">
        <div class="gallery-container">
            <h1 class="gallery-title">Salas utilizadas em Licenciatura em Computação</h1>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="LABINF01.jpg" alt="Foto do Laboratório de Informática 01">
                    <p class="gallery-item-label">Laboratório de Informática 01</p>
                </div>
                <div class="gallery-item">
                    <img src="LABINF02.jpg" alt="Foto do Laboratório de Informática 02">
                    <p class="gallery-item-label">Laboratório de Informática 02</p>
                </div>
                <div class="gallery-item">
                    <img src="LAPPIE.jpg" alt="Foto do Lappie">
                    <p class="gallery-item-label">Lappie</p>
                </div>
                <div class="gallery-item">
                    <img src="BIBLIOTECA.jpg" alt="Foto da Biblioteca">
                    <p class="gallery-item-label">Biblioteca</p>
                </div>
                <div class="gallery-item">
                    <img src="LCC.jpg" alt="Foto do LCC">
                    <p class="gallery-item-label">LCC - Laboratório de Computação Criativa</p>
                </div>
            </div>
            <button class="restart-gallery-button">Reiniciar Partida</button>
        </div>
    </section>

    <div id="start-modal" class="modal active">
        <div class="modal-content">
            <h1 class="title-memoria mb-4 text-3xl">Memória do Espaço Digital</h1>
            <button id="start-button">Iniciar Jogo</button>
        </div>
    </div>

    <div id="win-modal" class="modal">
        <div class="modal-content">
            <h3 class="text-3xl font-bold text-green-600 mb-4">PARABÉNS!</h3>
            <p class="text-xl text-gray-800">Você encontrou todas as salas.</p>
            <div class="final-stats">
                 <p>Tempo Jogado: <span id="win-time">--:--</span></p>
                 <p>Erros: <span id="win-errors">0</span></p>
                 <p>Pares Encontrados: <span>5</span></p>
            </div>
            <button id="win-continue-button" class="modal-button">Ver Galeria</button>
        </div>
    </div>

    <div id="lose-modal" class="modal">
        <div class="modal-content">
            <p class="text-2xl font-bold text-red-600 mb-4">Você perdeu, não encontrou todas as salas a tempo.</p>
             <div class="final-stats">
                 <p>Tempo Jogado: <span id="lose-time">--:--</span></p>
                 <p>Erros: <span id="lose-errors">0</span></p>
                 <p>Pares Encontrados: <span id="lose-matches">0</span></p>
            </div>
            <button id="lose-continue-button" class="modal-button">Seguir</button>
        </div>
    </div>

    <script>
        const cardArray = [
            { name: 'labinf01', imgSrc: 'LABINF01.jpg', label: 'Laboratório de Informática 01' },
            { name: 'labinf02', imgSrc: 'LABINF02.jpg', label: 'Laboratório de Informática 02' },
            { name: 'lappie', imgSrc: 'LAPPIE.jpg', label: 'Lappie' },
            { name: 'biblioteca', imgSrc: 'BIBLIOTECA.jpg', label: 'Biblioteca' },
            { name: 'lcc', imgSrc: 'LCC.jpg', label: 'LCC - Laboratório de Computação Criativa' }
        ];

        const gameCards = [...cardArray, ...cardArray];

        const startModal = document.getElementById('start-modal');
        const startButton = document.getElementById('start-button');
        const gameSection = document.getElementById('game-section');
        const gallerySection = document.getElementById('gallery-section');
        
        const board = document.querySelector('.game-board');
        const scoreDisplay = document.getElementById('score');
        const errorsDisplay = document.getElementById('errors');
        const timerDisplay = document.getElementById('timer');
        
        const winModal = document.getElementById('win-modal');
        const winContinueButton = document.getElementById('win-continue-button');
        const loseModal = document.getElementById('lose-modal');
        const loseContinueButton = document.getElementById('lose-continue-button');
        const galleryRestartButton = document.querySelector('#gallery-section .restart-gallery-button');

        let firstCard = null;
        let secondCard = null;
        let lockBoard = false;
        let matches = 0;
        let errors = 0;
        let timeLeft = 90;
        let timerInterval = null;

        function startTimer() {
            timeLeft = 90;
            errors = 0;
            errorsDisplay.textContent = errors;
            timerDisplay.textContent = '1:30';
            clearInterval(timerInterval); 

            timerInterval = setInterval(() => {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                let seconds = timeLeft % 60;
                seconds = seconds < 10 ? '0' + seconds : seconds;
                timerDisplay.textContent = `${minutes}:${seconds}`;

                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    handleLose();
                }
            }, 1000);
        }
        
        function updateFinalStats() {
            const timePlayed = 90 - timeLeft;
            const minutes = Math.floor(timePlayed / 60);
            let seconds = timePlayed % 60;
            seconds = seconds < 10 ? '0' + seconds : seconds;
            const formattedTime = `${minutes}:${seconds}`;

            document.getElementById('lose-time').textContent = formattedTime;
            document.getElementById('lose-errors').textContent = errors;
            document.getElementById('lose-matches').textContent = matches;

            document.getElementById('win-time').textContent = formattedTime;
            document.getElementById('win-errors').textContent = errors;
        }

        function handleLose() {
            lockBoard = true;
            updateFinalStats();
            loseModal.classList.add('active');
        }

        function handleWin() {
            lockBoard = true;
            updateFinalStats();
            winModal.classList.add('active');
        }

        function shuffleCards() {
            gameCards.sort(() => Math.random() - 0.5); 
        }

        function createBoard() {
            shuffleCards(); 
            board.innerHTML = '';
            matches = 0;
            scoreDisplay.textContent = 0;
            errorsDisplay.textContent = 0;
            timerDisplay.textContent = '--:--';


            gameCards.forEach((card) => {
                const cardElement = document.createElement('div');
                cardElement.classList.add('card');
                cardElement.dataset.name = card.name;

                const backFace = document.createElement('div');
                backFace.classList.add('back');

                const frontFace = document.createElement('div');
                frontFace.classList.add('face');
                
                const img = document.createElement('img');
                img.src = card.imgSrc;
                img.alt = card.label;

                const label = document.createElement('p');
                label.textContent = card.label;

                frontFace.appendChild(img);
                frontFace.appendChild(label);

                cardElement.appendChild(backFace);
                cardElement.appendChild(frontFace);
                board.appendChild(cardElement);

                cardElement.addEventListener('click', flipCard);
            });
        }

        function flipCard() {
            if (lockBoard || this.classList.contains('flip') || this.classList.contains('match')) return; 
            if (this === firstCard) return; 

            this.classList.add('flip');

            if (!firstCard) {
                firstCard = this;
                return;
            }

            secondCard = this;
            lockBoard = true; 
            
            checkForMatch();
        }

        function checkForMatch() {
            const isMatch = firstCard.dataset.name === secondCard.dataset.name;
            isMatch ? disableCards() : unflipCards();
        }

        function disableCards() {
            const matchedCard1 = firstCard;
            const matchedCard2 = secondCard;
            
            matchedCard1.removeEventListener('click', flipCard);
            matchedCard2.removeEventListener('click', flipCard);

            matches++;
            scoreDisplay.textContent = matches;
            
            resetBoard(); 

            setTimeout(() => {
                if(matchedCard1 && matchedCard2) {
                    matchedCard1.classList.add('match'); 
                    matchedCard2.classList.add('match');
                }
                
                if (matches === cardArray.length) { 
                    clearInterval(timerInterval);
                    setTimeout(handleWin, 800);
                }
            }, 2000); 
        }

        function unflipCards() {
            errors++;
            errorsDisplay.textContent = errors;
            setTimeout(() => {
                if (firstCard && secondCard) {
                    firstCard.classList.remove('flip');
                    secondCard.classList.remove('flip');
                }
                resetBoard();
            }, 2000);
        }

        function resetBoard() {
            [firstCard, secondCard, lockBoard] = [null, null, false];
        }

        function showGallery() {
            gameSection.classList.add('hidden');
            gallerySection.classList.remove('hidden');
        }

        document.addEventListener('DOMContentLoaded', () => {
            createBoard();
            
            startButton.addEventListener('click', () => {
                startModal.classList.remove('active');
                startTimer();
            });

            loseContinueButton.addEventListener('click', () => {
                loseModal.classList.remove('active');
                showGallery();
            });

            winContinueButton.addEventListener('click', () => {
                winModal.classList.remove('active');
                showGallery();
            });

            galleryRestartButton.addEventListener('click', () => {
                window.location.reload();
            });
        });
    </script>
</body>
</html>

